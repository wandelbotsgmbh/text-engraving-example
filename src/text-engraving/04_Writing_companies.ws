character_lookup = {" ", "!", '"', "#", "$", "%", "&", "'", "(", ")", "*", "+", ",", "-", ".", "/", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", ":", ";", "<", "=", ">", "?", "@", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "[", "|", "]", "^", "_", "`", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "{", "|", "}", "~", ""}
character_strokes = {{{{1.0, 0.0}}}, {{{0.3333333333333333, 0.0}, {0.3333333333333333, 0.0}}, {{0.3333333333333333, 0.2777777777777778}, {0.3333333333333333, 1.0}}, {{1.0, 0.0}}}, {{{0.16666666666666666, 0.7777777777777777}, {0.2222222222222222, 1.0}}, {{0.38888888888888884, 0.7777777777777777}, {0.4444444444444444, 1.0}}, {{1.0, 0.0}}}, {{{0.1111111111111111, 0.0}, {0.2222222222222222, 1.0}}, {{0.4444444444444444, 0.0}, {0.5555555555555556, 1.0}}, {{0.0, 0.7222222222222222}, {0.6666666666666666, 0.7222222222222222}}, {{0.0, 0.2777777777777778}, {0.6666666666666666, 0.2777777777777778}}, {{1.0, 0.0}}}, {{{0.0, 0.16666666666666666}, {0.16666666666666666, 0.05555555555555555}, {0.5, 0.05555555555555555}, {0.6666666666666666, 0.16666666666666666}, {0.6666666666666666, 0.38888888888888884}, {0.5, 0.5}, {0.16666666666666666, 0.5}, {0.0, 0.611111111111111}, {0.0, 0.8333333333333333}, {0.16666666666666666, 0.9444444444444444}, {0.5, 0.9444444444444444}, {0.6666666666666666, 0.8333333333333333}}, {{0.3333333333333333, 1.0555555555555556}, {0.3333333333333333, -0.05555555555555555}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.6666666666666666, 1.0}}, {{0.3333333333333333, 0.7777777777777777}, {0.16666666666666666, 0.5555555555555556}, {0.0, 0.7777777777777777}, {0.16666666666666666, 1.0}, {0.3333333333333333, 0.7777777777777777}}, {{0.5, 0.4444444444444444}, {0.6666666666666666, 0.2222222222222222}, {0.5, 0.0}, {0.3333333333333333, 0.2222222222222222}, {0.5, 0.4444444444444444}}, {{1.0, 0.0}}}, {{{0.6666666666666666, 0.2777777777777778}, {0.4444444444444444, 0.0}, {0.1111111111111111, 0.0}, {0.0, 0.2222222222222222}, {0.5, 0.7777777777777777}, {0.38888888888888884, 1.0}, {0.16666666666666666, 1.0}, {0.05555555555555555, 0.7777777777777777}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.2777777777777778, 0.7777777777777777}, {0.38888888888888884, 1.0}, {0.38888888888888884, 1.0}}, {{1.0, 0.0}}}, {{{0.6666666666666666, -0.1111111111111111}, {0.3333333333333333, 0.2222222222222222}, {0.3333333333333333, 0.7777777777777777}, {0.6666666666666666, 1.1111111111111112}}, {{1.0, 0.0}}}, {{{0.0, -0.1111111111111111}, {0.3333333333333333, 0.2222222222222222}, {0.3333333333333333, 0.7777777777777777}, {0.0, 1.1111111111111112}}, {{1.0, 0.0}}}, {{{0.16666666666666666, 0.1111111111111111}, {0.5, 0.8888888888888888}}, {{0.16666666666666666, 0.8888888888888888}, {0.5, 0.1111111111111111}}, {{0.0, 0.5}, {0.6666666666666666, 0.5}}, {{1.0, 0.0}}}, {{{0.3333333333333333, 0.1111111111111111}, {0.3333333333333333, 0.8888888888888888}}, {{0.0, 0.5}, {0.6666666666666666, 0.5}}, {{1.0, 0.0}}}, {{{0.2222222222222222, -0.2222222222222222}, {0.3333333333333333, 0.05555555555555555}, {0.3333333333333333, 0.05555555555555555}}, {{1.0, 0.0}}}, {{{0.0, 0.5}, {0.6666666666666666, 0.5}}, {{1.0, 0.0}}}, {{{0.3333333333333333, 0.0}, {0.3333333333333333, 0.0}, {0.3333333333333333, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.6666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.05555555555555555, 0.1111111111111111}, {0.611111111111111, 0.8888888888888888}}, {{0.6666666666666666, 0.6666666666666666}, {0.6666666666666666, 0.3333333333333333}, {0.5, 0.0}, {0.16666666666666666, 0.0}, {0.0, 0.3333333333333333}, {0.0, 0.6666666666666666}, {0.16666666666666666, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.6666666666666666}}, {{1.0, 0.0}}}, {{{0.16666666666666666, 0.0}, {0.5, 0.0}}, {{0.3333333333333333, 0.0}, {0.3333333333333333, 1.0}, {0.16666666666666666, 0.8333333333333333}}, {{1.0, 0.0}}}, {{{0.0, 0.8333333333333333}, {0.16666666666666666, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}, {0.6666666666666666, 0.611111111111111}, {0.1111111111111111, 0.2777777777777778}, {0.0, 0.0}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.8888888888888888}, {0.16666666666666666, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}, {0.6666666666666666, 0.611111111111111}, {0.5, 0.5}, {0.16666666666666666, 0.5}}, {{0.5, 0.5}, {0.6666666666666666, 0.38888888888888884}, {0.6666666666666666, 0.16666666666666666}, {0.5, 0.0}, {0.16666666666666666, 0.0}, {0.0, 0.1111111111111111}}, {{1.0, 0.0}}}, {{{0.5, 0.0}, {0.5, 1.0}, {0.0, 0.3333333333333333}, {0.6666666666666666, 0.3333333333333333}}, {{1.0, 0.0}}}, {{{0.0, 0.1111111111111111}, {0.16666666666666666, 0.0}, {0.5, 0.0}, {0.6666666666666666, 0.1111111111111111}, {0.6666666666666666, 0.4444444444444444}, {0.5, 0.5555555555555556}, {0.16666666666666666, 0.5555555555555556}, {0.0, 0.5}, {0.1111111111111111, 1.0}, {0.6666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 0.38888888888888884}, {0.16666666666666666, 0.5555555555555556}, {0.5, 0.5555555555555556}, {0.6666666666666666, 0.38888888888888884}, {0.6666666666666666, 0.16666666666666666}, {0.5, 0.0}, {0.16666666666666666, 0.0}, {0.0, 0.16666666666666666}, {0.0, 0.5555555555555556}, {0.16666666666666666, 0.8333333333333333}, {0.38888888888888884, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 1.0}, {0.6666666666666666, 1.0}, {0.2222222222222222, 0.0}}, {{1.0, 0.0}}}, {{{0.16666666666666666, 0.5555555555555556}, {0.0, 0.7222222222222222}, {0.0, 0.8888888888888888}, {0.16666666666666666, 1.0555555555555556}, {0.5, 1.0555555555555556}, {0.6666666666666666, 0.8888888888888888}, {0.6666666666666666, 0.7222222222222222}, {0.5, 0.5555555555555556}, {0.16666666666666666, 0.5555555555555556}, {0.0, 0.38888888888888884}, {0.0, 0.16666666666666666}, {0.16666666666666666, 0.0}, {0.5, 0.0}, {0.6666666666666666, 0.16666666666666666}, {0.6666666666666666, 0.38888888888888884}, {0.5, 0.5555555555555556}}, {{1.0, 0.0}}}, {{{0.2777777777777778, 0.0}, {0.5, 0.16666666666666666}, {0.6666666666666666, 0.4444444444444444}, {0.6666666666666666, 0.8333333333333333}, {0.5, 1.0}, {0.16666666666666666, 1.0}, {0.0, 0.8333333333333333}, {0.0, 0.611111111111111}, {0.16666666666666666, 0.4444444444444444}, {0.5, 0.4444444444444444}, {0.6666666666666666, 0.611111111111111}}, {{1.0, 0.0}}}, {{{0.3333333333333333, 0.2222222222222222}, {0.3333333333333333, 0.2222222222222222}}, {{0.3333333333333333, 0.7777777777777777}, {0.3333333333333333, 0.7777777777777777}}, {{1.0, 0.0}}}, {{{0.2777777777777778, -0.2222222222222222}, {0.38888888888888884, 0.0}, {0.38888888888888884, 0.0}}, {{0.38888888888888884, 0.5555555555555556}, {0.38888888888888884, 0.5555555555555556}}, {{1.0, 0.0}}}, {{{0.6666666666666666, 0.0}, {0.0, 0.5}, {0.6666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 0.2222222222222222}, {0.6666666666666666, 0.2222222222222222}}, {{0.0, 0.7777777777777777}, {0.6666666666666666, 0.7777777777777777}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.6666666666666666, 0.5}, {0.0, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 0.8333333333333333}, {0.16666666666666666, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}, {0.6666666666666666, 0.611111111111111}, {0.3333333333333333, 0.38888888888888884}, {0.3333333333333333, 0.2222222222222222}}, {{0.3333333333333333, 0.0}, {0.3333333333333333, 0.0}}, {{1.0, 0.0}}}, {{{0.6666666666666666, 0.1111111111111111}, {0.5555555555555556, 0.0}, {0.16666666666666666, 0.0}, {0.0, 0.16666666666666666}, {0.0, 0.8333333333333333}, {0.16666666666666666, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}, {0.6666666666666666, 0.3333333333333333}, {0.2777777777777778, 0.3333333333333333}, {0.2777777777777778, 0.7222222222222222}, {0.6666666666666666, 0.7222222222222222}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.3333333333333333, 1.0}, {0.6666666666666666, 0.0}}, {{0.16666666666666666, 0.5}, {0.5, 0.5}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}, {0.6666666666666666, 0.6666666666666666}, {0.5, 0.5}, {0.0, 0.5}}, {{0.5, 0.5}, {0.6666666666666666, 0.3333333333333333}, {0.6666666666666666, 0.16666666666666666}, {0.5, 0.0}, {0.0, 0.0}}, {{1.0, 0.0}}}, {{{0.6666666666666666, 0.16666666666666666}, {0.5, 0.0}, {0.16666666666666666, 0.0}, {0.0, 0.16666666666666666}, {0.0, 0.8333333333333333}, {0.16666666666666666, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}, {0.6666666666666666, 0.16666666666666666}, {0.5, 0.0}, {0.0, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}, {0.6666666666666666, 1.0}}, {{0.0, 0.5}, {0.5, 0.5}}, {{0.0, 0.0}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}, {0.6666666666666666, 1.0}}, {{0.0, 0.5}, {0.5, 0.5}}, {{1.0, 0.0}}}, {{{0.6666666666666666, 0.8333333333333333}, {0.5, 1.0}, {0.16666666666666666, 1.0}, {0.0, 0.8333333333333333}, {0.0, 0.16666666666666666}, {0.16666666666666666, 0.0}, {0.5, 0.0}, {0.6666666666666666, 0.16666666666666666}, {0.6666666666666666, 0.4444444444444444}, {0.2777777777777778, 0.4444444444444444}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}}, {{0.6666666666666666, 0.0}, {0.6666666666666666, 1.0}}, {{0.0, 0.5}, {0.6666666666666666, 0.5}}, {{1.0, 0.0}}}, {{{0.1111111111111111, 0.0}, {0.5555555555555556, 0.0}}, {{0.3333333333333333, 0.0}, {0.3333333333333333, 1.0}}, {{0.1111111111111111, 1.0}, {0.5555555555555556, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 0.1111111111111111}, {0.16666666666666666, 0.0}, {0.2777777777777778, 0.0}, {0.4444444444444444, 0.1111111111111111}, {0.4444444444444444, 1.0}}, {{0.2222222222222222, 1.0}, {0.6666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}}, {{0.6666666666666666, 1.0}, {0.0, 0.3333333333333333}}, {{0.16666666666666666, 0.5}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}}, {{0.0, 0.0}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}, {0.3333333333333333, 0.2777777777777778}, {0.6666666666666666, 1.0}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}, {0.6666666666666666, 0.0}, {0.6666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.16666666666666666, 0.0}, {0.0, 0.16666666666666666}, {0.0, 0.8333333333333333}, {0.16666666666666666, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}, {0.6666666666666666, 0.16666666666666666}, {0.5, 0.0}, {0.16666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}, {0.6666666666666666, 0.611111111111111}, {0.5, 0.4444444444444444}, {0.0, 0.4444444444444444}}, {{1.0, 0.0}}}, {{{0.16666666666666666, 0.0}, {0.0, 0.16666666666666666}, {0.0, 0.8333333333333333}, {0.16666666666666666, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}, {0.6666666666666666, 0.16666666666666666}, {0.5, 0.0}, {0.16666666666666666, 0.0}}, {{0.38888888888888884, 0.2777777777777778}, {0.7777777777777777, -0.1111111111111111}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8333333333333333}, {0.6666666666666666, 0.611111111111111}, {0.5, 0.4444444444444444}, {0.0, 0.4444444444444444}}, {{0.38888888888888884, 0.4444444444444444}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.1111111111111111}, {0.16666666666666666, 0.0}, {0.5, 0.0}, {0.6666666666666666, 0.16666666666666666}, {0.6666666666666666, 0.3333333333333333}, {0.5, 0.5}, {0.16666666666666666, 0.5}, {0.0, 0.6666666666666666}, {0.0, 0.8333333333333333}, {0.16666666666666666, 1.0}, {0.5, 1.0}, {0.6666666666666666, 0.8888888888888888}}, {{1.0, 0.0}}}, {{{0.3333333333333333, 0.0}, {0.3333333333333333, 1.0}}, {{0.0, 1.0}, {0.6666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 1.0}, {0.0, 0.16666666666666666}, {0.16666666666666666, 0.0}, {0.5, 0.0}, {0.6666666666666666, 0.16666666666666666}, {0.6666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 1.0}, {0.3333333333333333, 0.0}, {0.6666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 1.0}, {0.16666666666666666, 0.0}, {0.3333333333333333, 0.7777777777777777}, {0.5, 0.0}, {0.6666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.6666666666666666, 1.0}}, {{0.0, 1.0}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.3333333333333333, 0.0}, {0.3333333333333333, 0.38888888888888884}, {0.0, 1.0}}, {{0.3333333333333333, 0.38888888888888884}, {0.6666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.6666666666666666, 1.0}, {0.0, 1.0}}, {{0.6666666666666666, 0.0}, {0.0, 0.0}}, {{1.0, 0.0}}}, {{{0.6666666666666666, 1.1111111111111112}, {0.3333333333333333, 1.1111111111111112}, {0.3333333333333333, -0.1111111111111111}, {0.6666666666666666, -0.1111111111111111}}, {{1.0, 0.0}}}, {{{0.0, 1.0}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.0, -0.1111111111111111}, {0.3333333333333333, -0.1111111111111111}, {0.3333333333333333, 1.1111111111111112}, {0.0, 1.1111111111111112}}, {{1.0, 0.0}}}, {{{0.0, 0.38888888888888884}, {0.3333333333333333, 0.8888888888888888}, {0.6666666666666666, 0.38888888888888884}}, {{1.0, 0.0}}}, {{{-1.0, -0.2777777777777778}, {0.0, -0.2777777777777778}}, {{0.0, 0.0}}}, {{{0.2777777777777778, 1.0}, {0.2777777777777778, 1.0}, {0.38888888888888884, 0.7777777777777777}}, {{1.0, 0.0}}}, {{{0.0, 0.5555555555555556}, {0.2777777777777778, 0.6666666666666666}, {0.611111111111111, 0.5555555555555556}, {0.611111111111111, 0.1111111111111111}, {0.4444444444444444, 0.0}, {0.2222222222222222, 0.0}, {0.0, 0.1111111111111111}, {0.0, 0.2777777777777778}, {0.611111111111111, 0.3333333333333333}}, {{0.611111111111111, 0.1111111111111111}, {0.7222222222222222, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}}, {{0.0, 0.5}, {0.3333333333333333, 0.611111111111111}, {0.6666666666666666, 0.5}, {0.6666666666666666, 0.1111111111111111}, {0.3333333333333333, 0.0}, {0.0, 0.1111111111111111}}, {{1.0, 0.0}}}, {{{0.611111111111111, 0.5}, {0.3333333333333333, 0.611111111111111}, {0.0, 0.5}, {0.0, 0.1111111111111111}, {0.3333333333333333, 0.0}, {0.611111111111111, 0.1111111111111111}}, {{1.0, 0.0}}}, {{{0.6666666666666666, 0.1111111111111111}, {0.3333333333333333, 0.0}, {0.0, 0.1111111111111111}, {0.0, 0.5}, {0.3333333333333333, 0.611111111111111}, {0.6666666666666666, 0.5}}, {{0.6666666666666666, 1.0}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.3333333333333333}, {0.6666666666666666, 0.38888888888888884}, {0.5, 0.6666666666666666}, {0.16666666666666666, 0.6666666666666666}, {0.0, 0.5}, {0.0, 0.1111111111111111}, {0.16666666666666666, 0.0}, {0.5, 0.0}, {0.6666666666666666, 0.1111111111111111}}, {{1.0, 0.0}}}, {{{0.2222222222222222, 0.0}, {0.2222222222222222, 0.8888888888888888}, {0.4444444444444444, 1.0}, {0.6666666666666666, 0.8888888888888888}}, {{0.0, 0.5}, {0.4444444444444444, 0.5}}, {{1.0, 0.0}}}, {{{0.611111111111111, 0.1111111111111111}, {0.3333333333333333, 0.0}, {0.0, 0.1111111111111111}, {0.0, 0.5}, {0.3333333333333333, 0.611111111111111}, {0.611111111111111, 0.5}}, {{0.611111111111111, 0.611111111111111}, {0.611111111111111, -0.2777777777777778}, {0.3333333333333333, -0.38888888888888884}, {0.0, -0.2777777777777778}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}}, {{0.0, 0.5}, {0.3333333333333333, 0.611111111111111}, {0.6666666666666666, 0.5}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.38888888888888884, 0.0}, {0.38888888888888884, 0.611111111111111}, {0.2222222222222222, 0.611111111111111}}, {{0.38888888888888884, 1.0}, {0.38888888888888884, 1.0}}, {{1.0, 0.0}}}, {{{0.0, -0.2777777777777778}, {0.2222222222222222, -0.38888888888888884}, {0.4444444444444444, -0.2777777777777778}, {0.4444444444444444, 0.611111111111111}}, {{0.4444444444444444, 1.0}, {0.4444444444444444, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}}, {{0.0, 0.2777777777777778}, {0.6666666666666666, 0.611111111111111}}, {{0.2222222222222222, 0.38888888888888884}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.16666666666666666, 0.0}, {0.5, 0.0}}, {{0.3333333333333333, 0.0}, {0.3333333333333333, 1.0}, {0.16666666666666666, 1.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 0.6666666666666666}}, {{0.0, 0.5}, {0.2222222222222222, 0.6666666666666666}, {0.3333333333333333, 0.5}, {0.3333333333333333, 0.0}}, {{0.3333333333333333, 0.5}, {0.5555555555555556, 0.6666666666666666}, {0.6666666666666666, 0.5}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 0.611111111111111}}, {{0.0, 0.4444444444444444}, {0.3333333333333333, 0.611111111111111}, {0.6666666666666666, 0.4444444444444444}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.3333333333333333, 0.0}, {0.0, 0.1111111111111111}, {0.0, 0.5}, {0.3333333333333333, 0.611111111111111}, {0.6666666666666666, 0.5}, {0.6666666666666666, 0.1111111111111111}, {0.3333333333333333, 0.0}}, {{1.0, 0.0}}}, {{{0.0, -0.38888888888888884}, {0.0, 0.611111111111111}}, {{0.0, 0.5}, {0.3333333333333333, 0.611111111111111}, {0.6666666666666666, 0.5}, {0.6666666666666666, 0.1111111111111111}, {0.3333333333333333, 0.0}, {0.0, 0.1111111111111111}}, {{1.0, 0.0}}}, {{{0.611111111111111, 0.1111111111111111}, {0.3333333333333333, 0.0}, {0.0, 0.1111111111111111}, {0.0, 0.5}, {0.3333333333333333, 0.611111111111111}, {0.611111111111111, 0.5}}, {{0.611111111111111, 0.611111111111111}, {0.611111111111111, -0.3333333333333333}, {0.7222222222222222, -0.4444444444444444}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 0.611111111111111}}, {{0.0, 0.4444444444444444}, {0.3333333333333333, 0.611111111111111}, {0.6666666666666666, 0.4444444444444444}}, {{1.0, 0.0}}}, {{{0.0, 0.1111111111111111}, {0.3333333333333333, 0.0}, {0.6666666666666666, 0.1111111111111111}, {0.6666666666666666, 0.2777777777777778}, {0.0, 0.38888888888888884}, {0.0, 0.5555555555555556}, {0.3333333333333333, 0.6666666666666666}, {0.6666666666666666, 0.5555555555555556}}, {{1.0, 0.0}}}, {{{0.6666666666666666, 0.1111111111111111}, {0.4444444444444444, 0.0}, {0.2222222222222222, 0.1111111111111111}, {0.2222222222222222, 1.0}}, {{0.0, 0.611111111111111}, {0.4444444444444444, 0.611111111111111}}, {{1.0, 0.0}}}, {{{0.0, 0.611111111111111}, {0.0, 0.1111111111111111}, {0.3333333333333333, 0.0}, {0.6666666666666666, 0.1111111111111111}, {0.6666666666666666, 0.611111111111111}}, {{1.0, 0.0}}}, {{{0.0, 0.611111111111111}, {0.3333333333333333, 0.0}, {0.6666666666666666, 0.611111111111111}}, {{1.0, 0.0}}}, {{{0.0, 0.611111111111111}, {0.16666666666666666, 0.0}, {0.3333333333333333, 0.4444444444444444}, {0.5, 0.0}, {0.6666666666666666, 0.611111111111111}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.611111111111111, 0.611111111111111}}, {{0.0, 0.611111111111111}, {0.611111111111111, 0.0}}, {{1.0, 0.0}}}, {{{0.0, 0.611111111111111}, {0.38888888888888884, 0.05555555555555555}}, {{0.16666666666666666, -0.38888888888888884}, {0.6666666666666666, 0.611111111111111}}, {{1.0, 0.0}}}, {{{0.0, 0.611111111111111}, {0.6666666666666666, 0.611111111111111}, {0.0, 0.0}, {0.6666666666666666, 0.0}}, {{1.0, 0.0}}}, {{{0.6666666666666666, -0.1111111111111111}, {0.38888888888888884, 0.05555555555555555}, {0.38888888888888884, 0.3333333333333333}, {0.2222222222222222, 0.5}, {0.38888888888888884, 0.6666666666666666}, {0.38888888888888884, 0.9444444444444444}, {0.6666666666666666, 1.1111111111111112}}, {{1.0, 0.0}}}, {{{0.3333333333333333, 0.0}, {0.3333333333333333, 0.3333333333333333}}, {{0.3333333333333333, 0.6666666666666666}, {0.3333333333333333, 1.0}}, {{1.0, 0.0}}}, {{{0.0, -0.1111111111111111}, {0.2777777777777778, 0.05555555555555555}, {0.2777777777777778, 0.3333333333333333}, {0.4444444444444444, 0.5}, {0.2777777777777778, 0.6666666666666666}, {0.2777777777777778, 0.9444444444444444}, {0.0, 1.1111111111111112}}, {{1.0, 0.0}}}, {{{0.0, 0.0}, {0.0, 2.944444444444444}, {2.944444444444444, 2.944444444444444}, {2.944444444444444, 0.0}, {0.0, 0.0}}, {{3.1111111111111107, 0.0}}}, {{{0.0, 0.0}, {0.0, 1.0}, {0.6666666666666666, 0.5}, {0.0, 0.0}}, {{0.0, 0.16666666666666666}, {0.2222222222222222, 0.16666666666666666}, {0.2222222222222222, 0.8333333333333333}, {0.0, 0.8333333333333333}}, {{0.0, 0.3333333333333333}, {0.4444444444444444, 0.3333333333333333}, {0.4444444444444444, 0.6666666666666666}, {0.0, 0.6666666666666666}}, {{0.0, 0.5}, {0.6666666666666666, 0.5}}, {{1.0, 0.0}}}}

def char_to_idx(character):
    if len(character) > 1:
        print("Error: use a character (string of len 1), not a string.")
    for i=0..<len(character_lookup):
        if ~(character_lookup[i] != character):
            # print("index:")
            # print(i)
            return i
    print("Error: Character was not found among supported characters.")

def draw_character(character_idx, character_start, scaling):
    # character_idx = 0 # Index of the character in the character_lookup
    # character_start = [200, 200, 0, 0, 0, 0] # Pose where to start the character
    # scaling = 200 # Scaling of the character in mm

    # single_character:
    strokes = character_strokes[character_idx]

    for i=0..<len(strokes)-1:
        
        for j=0..<len(strokes[i]):
            point = strokes[i][j]
            pose = [scaling*point[0], scaling*point[1], 0, 0, 0, 0]
            if j == 0:
                move tool via line() to character_start :: pose :: moving_offset :: point_to_tcp :: ~tcp
                move tool via line() to character_start :: pose :: point_to_tcp :: cutting_inset :: ~tcp

            velocity(milling_velocity)
            move tool via line() to character_start :: pose :: point_to_tcp :: cutting_inset :: ~tcp

        velocity(moving_velocity)
        move tool via line() to character_start :: pose :: moving_offset :: point_to_tcp :: ~tcp
        
    point = strokes[-1][0] 
    next_character_pose = [scaling*(point[0] + next_character_offset), scaling*point[1], 0, 0, 0, 0]
    return character_start :: next_character_pose

def draw_string(my_string, character_start_pose, scaling):
    # Drawing a string - by using the draw character function and taking
    # care for the correct spacing between characters.
    
    for cc = 0 ..< len(my_string):
        character_idx = char_to_idx(my_string[cc])
        next_character_pose = draw_character(character_idx, next_character_pose, scaling)

    return next_character_pose

def set_tool(state):
    if milling_active:
        write(bob, state, tool_io)

# -----------------------------------------------------------------------------------

# ### General settings:
tool = frame("TOOL 1")

milling_active = True
milling_velocity = 15
moving_velocity = 500

line_depth = 2
cutting_inset = [0, 0, 1.5 + line_depth, 0, 0, 0]
moving_offset = [0, 0, 8, 0, 0, 0]
next_character_offset = 0  # In units of font size - 1 is the font size

tool_io = "10010#0001"

# Geometry:
tcp = [0, 0, 0, 0, 0, 0]
point_to_tcp = [0, 0, 0, pi, 0, 0] :: [0, 0, 0, 0, 0, -pi/2]

# Transformations:
# home = [600, 0, 0, 0, 0, 0] :: canvas_in_robot :: point_to_tcp
home = [600, -100, -300, 0, pi, 0.0] :: [0, 0, 0, 0, pi/2, 0]

canvas_angle_correction = 0.006250

# Modify this variable to the right index:
cell_index = read(arguments, "cell_index")
my_name = read(arguments, "my_name")
my_company = read(arguments, "my_company")
plate_offset = read(arguments, "plate_offset")

# draw in base cube
# 501-18
# draw on plate before base cube
# 501
# draw on two plates before base cube
# 501+18
# so to draw in base cube set plate_offset to -18
# to test set the plate_offset to 18

canvas_in_robot = [501+plate_offset, -398, -460-100, pi/2, 0, 0] :: [0, 0, 0, 0, pi/2+canvas_angle_correction, 0]
# -------------------------------------
velocity(moving_velocity)
blending(0)
move tool via p2p() to home



# ##################################################################################################################
# ##################################################################################################################
# ##################################################################################################################
# To change:
# This skill writes the company names to the board. One has to provide person's name, company's name and the cell
# index - which is the consequetive number of the text entry - first company had index 0, then 1, 2, ....
# The placement of the name is calculated based on this number. For further use make sure you count the companies
# correctly (you can try if you did it right with an offset. 
# The best way to add an offset is to modify the canvas_in_robot variable above. if you increase the x value (so the
# the number: [501-18, . Just type +30 next to it or a value like that.



# ################################################################################################################## 
# ##################################################################################################################
# ##################################################################################################################


line_number, column_number = divmod(cell_index, 3)
print("line, column:")
print({line_number, column_number})

line_height = 93
column_width = 265

# -------------------------------------------
cell_offset = [column_number*column_width + 15*0, -line_height*line_number, 0, 0, 0, 0]

# -------------------------------------------
# Draw a text:
my_string = my_name
scaling_big_text = 23 # Text size
line_depth = 1
cutting_inset = [0, 0, 1.5 + line_depth, 0, 0, 0]

next_character_pose = canvas_in_robot :: cell_offset :: [0, -scaling_big_text, 0, 0, 0, 0]  # Pose where to start the character

set_tool(True)
draw_string(my_string, next_character_pose, scaling_big_text)
set_tool(False)
# -------------------------------------------
# Draw a text:
my_string = my_company
scaling_small_text = 16 # Text size
line_depth = -1
cutting_inset = [0, 0, 1.5 + line_depth, 0, 0, 0]

next_character_pose = canvas_in_robot :: cell_offset :: [0, -scaling_big_text-12-scaling_small_text, 0, 0, 0, 0] # Pose where to start the character

set_tool(True)
draw_string(my_string, next_character_pose, scaling_small_text)
set_tool(False)
# -------------------------------------------



move tool via p2p() to home



